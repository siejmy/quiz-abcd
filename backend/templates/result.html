<!--      TITLE        -->
{{define "title"}}Wyniki {{.quiz.Title}}{{end}}

<!--      HEAD         -->
{{define "head"}}
<link
  rel="stylesheet"
  href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"
  integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu"
  crossorigin="anonymous"
/>
{{end}}

<!-- BODY CLASS -->
{{define "bodyclass"}}result{{end}}

<!--      BODY         -->
{{define "body"}}
<div class="bg-siejmy result-hero">
  <div class="container">
    <div class="row">
      <div class="col-12 col-sm-6 col-quiz">
        <img src="{{ .quiz.IntroImageURL }}" alt="{{ .quiz.Title }}" />
        <h2 class="quiz-title">{{ .quiz.Title }}</h2>
      </div>
      <div class="col-12 col-sm-6 col-result">
        <h2>
          Gratulacje{{- if .result.Name -}}
          <strong>{{- .result.Name -}}</strong>, {{- else -}},{{- end -}}
          <br />
          <span>Twój wynik, to:</span>
        </h2>
        <h3>{{ .resultPercent }}%</h3>
      </div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <div class="col-8 col-sm-6 text-center">
      <a class="btn btn-lg btn-default" href="/{{ .routeBase }}/"
        >Rozwiąż ten quiz</a
      >
    </div>
    <div class="col-4 col-sm-6">&nbsp;</div>
  </div>
</div>

<div class="line-questions">
  <div>
    <p>
      Odpowiedziałeś prawidłowo na
      <strong>{{ .statsEntry.CorrectCount }}</strong> spośród
      <strong>{{ .statsEntry.TotalCount }}</strong> pytań
    </p>
  </div>
  <div>
    {{ if ne .statsEntry.CorrectCount 0 }}
    <!-- -->
    {{ range (seq .statsEntry.CorrectCount) }}
    <div class="answerbox answerbox-correct"></div>
    {{ end }} {{ end }}
    <!-- -->
    {{ $incorrectCnt := (sub .statsEntry.TotalCount .statsEntry.CorrectCount)}}
    <!-- -->
    {{ range (seq $incorrectCnt) }}
    <div class="answerbox answerbox-incorrect"></div>
    {{ end }}
  </div>
</div>

<div class="line-histogram">
  <div>
    <p>
      Uzyskałeś wynik lepszy niż <string>{{ .decileValue }}</string>%
      uczestników
    </p>
  </div>
  <div>
    <div class="decilebox">
      {{ range $index, $v := .statsSummary.DecileHistogram }} {{ $v }} {{ end }}
    </div>
  </div>
</div>

<div class="line-share-btn">
  <a href="#">Udostępnij swój wynik</a
  ><!-- TODO -->
</div>

<!-- TODO iframe inne quizy -->

<!-- TODO iframe numery siejmy -->

{{end}}
